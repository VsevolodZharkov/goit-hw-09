{"mappings":"AAGA,IAAMA,SAAWC,SAASC,cAAc,SAElCC,SAAWF,SAASC,cAAc,UAElCE,SAAWH,SAASC,cAAc,UAClCG,MAAQJ,SAASC,cAAc,mBAC/BI,OAASL,SAASC,cAAc,oBAChCK,SAAWN,SAASC,cAAc,sBAClCM,SAAWP,SAASC,cAAc,sBAElCO,KAAO,IAAIC,KACbC,YAAc,GACdC,KAAO,GAGXT,SAASU,aAAa,WAAY,YAElC,IAAMC,oBAAsB,WAC1B,IAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIR,KACjBS,gBAAiB,EACjBC,QAAA,SAAQC,GACFA,EAAc,KAAOZ,MAAQY,EAAc,GAAKZ,KAClDa,OAAOC,MAAM,sCACJF,EAAc,GAAKZ,OAC5BE,YAAcU,EAAc,GAC5BlB,SAASqB,gBAAgB,WAAY,eAI3CC,UAAUzB,SAAUe,IAGhBW,cAAgB,WAiBrBC,aAhBmB,WAElB,IAAIC,EAAO,IAAIlB,KACTmB,EAAc,IAAInB,KAAKC,aAE7B,IADAC,KAAOiB,EAAcD,GACT,EACXE,gBACA1B,SAAS2B,YAAc,sBACjB,CACP,IAA0CC,EAAAC,UAAUrB,MAA5CsB,EAAkCF,EAAlCE,KAAMC,EAA4BH,EAA5BG,MAAOC,EAAqBJ,EAArBI,QAASC,EAAYL,EAAZK,QAC7B7B,SAAS8B,UAAYD,EAAU,GAAK,IAAMA,EAAUA,EACpD9B,SAAS+B,UAAYF,EAAU,GAAK,IAAMA,EAAUA,EACpD9B,OAAOgC,UAAYH,EAAQ,GAAK,IAAMA,EAAQA,EAC9C9B,MAAMiC,UAAYJ,EAAO,GAAK,IAAMA,EAAOA,KAGrB,MAGzB,SAASD,UAAUM,GAClB,IACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAWZ,MAAO,CAAER,KARIU,KAAKC,MAAMN,EAAKI,GAQdR,MANDS,KAAKC,MAAMN,EAAMI,EAAOD,GAMhBN,QAJNQ,KAAKC,MAAMN,EAAOI,EAAOD,EAAQF,GAIlBH,QAFfO,KAAKC,MAAMN,EAAQI,EAAOD,EAAQF,EAZnC,MAiBhBxC,SAAS8C,iBAAiB,QAAShC,qBACnCX,SAAS2C,iBAAiB,QAASpB","sources":["src/js/02-timer.js"],"sourcesContent":["// import flatpickr from 'flatpickr';\n// import 'flatpickr/dist/flatpickr.min.css';\n\nconst inputRef = document.querySelector('input');\n\nconst startRef = document.querySelector('button');\n\nconst timerRef = document.querySelector('.timer');\nconst dayEl = document.querySelector('span[data-days]');\nconst hourEl = document.querySelector('span[data-hours]');\nconst minuteEl = document.querySelector('span[data-minutes]');\nconst secondEl = document.querySelector('span[data-seconds]');\n\nconst date = new Date();\nlet currentTime = '';\nlet diff = '';\n\n\nstartRef.setAttribute('disabled', 'disabled');\n\nconst openWindowSelection = () => {\n  const options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      if (selectedDates[0] === date || selectedDates[0] < date) {\n        window.alert('Please choose a date in the future');\n      } else if (selectedDates[0] > date) {\n        currentTime = selectedDates[0];\n        startRef.removeAttribute('disabled', 'disabled');\n      }\n    },\n  };\n  flatpickr(inputRef, options);\n};\n\nconst startOfTiming = () => {\n\tconst renderTime = () => {\n\t\t// console.log(userTimeOut);\n\t\tlet date = new Date();\n\t\tconst userTimeOut = new Date(currentTime);\n\t\tdiff = userTimeOut - date;\n\t\tif ( diff < 0 ) {\n\t\t\tclearInterval();\n\t\t\ttimerRef.textContent = 'Отсчет окончен!';\n\t\t} else {\n\t\tconst { days, hours, minutes, seconds } = convertMs(diff);\n\t\t\tsecondEl.innerHTML = seconds < 10 ? '0' + seconds : seconds;\n\t\t\tminuteEl.innerHTML = minutes < 10 ? '0' + minutes : minutes;\n\t\t\thourEl.innerHTML = hours < 10 ? '0' + hours : hours;\n\t\t\tdayEl.innerHTML = days < 10 ? '0' + days : days;\n\t\t}\n\t};\n\tsetInterval(renderTime, 1000);\n  };\n\nfunction convertMs(ms) {\n\tconst second = 1000;\n\tconst minute = second * 60;\n\tconst hour = minute * 60;\n\tconst day = hour * 24;\n\n\t// Remaining days\n\tconst days = Math.floor(ms / day);\n\t// Remaining hours\n\tconst hours = Math.floor((ms % day) / hour);\n\t// Remaining minutes\n\tconst minutes = Math.floor(((ms % day) % hour) / minute);\n\t// Remaining seconds\n\tconst seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n\treturn { days, hours, minutes, seconds };\n}\n\ninputRef.addEventListener('click', openWindowSelection);\nstartRef.addEventListener('click', startOfTiming);\n"],"names":["inputRef","document","querySelector","startRef","timerRef","dayEl","hourEl","minuteEl","secondEl","date","Date","currentTime","diff","setAttribute","openWindowSelection","options","enableTime","time_24hr","defaultDate","minuteIncrement","onClose","selectedDates","window","alert","removeAttribute","flatpickr","startOfTiming","setInterval","date1","userTimeOut","clearInterval","textContent","ref","convertMs","days","hours","minutes","seconds","innerHTML","ms","minute","second","hour","day","Math","floor","addEventListener"],"version":3,"file":"02-timer.9e317982.js.map"}